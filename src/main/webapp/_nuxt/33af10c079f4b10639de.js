(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{348:function(e,t,r){var n=r(44),o=r(362),c=r(363),l="Expected a function",d=Math.max,f=Math.min;e.exports=function(e,t,r){var m,v,h,x,y,w,k=0,O=!1,$=!1,C=!0;if("function"!=typeof e)throw new TypeError(l);function _(time){var t=m,r=v;return m=v=void 0,k=time,x=e.apply(r,t)}function j(time){var e=time-w;return void 0===w||e>=t||e<0||$&&time-k>=h}function T(){var time=o();if(j(time))return P(time);y=setTimeout(T,function(time){var e=t-(time-w);return $?f(e,h-(time-k)):e}(time))}function P(time){return y=void 0,C&&m?_(time):(m=v=void 0,x)}function S(){var time=o(),e=j(time);if(m=arguments,v=this,w=time,e){if(void 0===y)return function(time){return k=time,y=setTimeout(T,t),O?_(time):x}(w);if($)return clearTimeout(y),y=setTimeout(T,t),_(w)}return void 0===y&&(y=setTimeout(T,t)),x}return t=c(t)||0,n(r)&&(O=!!r.leading,h=($="maxWait"in r)?d(c(r.maxWait)||0,t):h,C="trailing"in r?!!r.trailing:C),S.cancel=function(){void 0!==y&&clearTimeout(y),k=0,m=w=v=y=void 0},S.flush=function(){return void 0===y?x:P(o())},S}},362:function(e,t,r){var n=r(28);e.exports=function(){return n.Date.now()}},363:function(e,t,r){var n=r(44),o=r(92),c=NaN,l=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,m=/^0o[0-7]+$/i,v=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return c;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(l,"");var r=f.test(e);return r||m.test(e)?v(e.slice(2),r?2:8):d.test(e)?c:+e}},364:function(e,t,r){var content=r(403);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(19).default)("45a2315d",content,!1,{sourceMap:!1})},402:function(e,t,r){"use strict";var n=r(364);r.n(n).a},403:function(e,t,r){(e.exports=r(18)(!1)).push([e.i,"@-webkit-keyframes spinAround-data-v-2ce3c1ea{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spinAround-data-v-2ce3c1ea{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.c-vert-center[data-v-2ce3c1ea]{display:-webkit-box!important;display:flex!important;-webkit-box-align:center!important;align-items:center!important}.c-vert-center[data-v-2ce3c1ea]>:nth-child(2){margin-left:4px!important}.c-vert-inline-center[data-v-2ce3c1ea]{display:-webkit-inline-box!important;display:inline-flex!important;-webkit-box-align:center!important;align-items:center!important}.c-vert-inline-center[data-v-2ce3c1ea]>:nth-child(2){margin-left:4px!important}table tbody tr td[data-v-2ce3c1ea],table thead tr td[data-v-2ce3c1ea]{vertical-align:middle!important}.wrapper[data-v-2ce3c1ea]{width:800px;padding:20px}.form-footer[data-v-2ce3c1ea]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}",""])},431:function(e,t,r){"use strict";r.r(t);r(53),r(30),r(25),r(14),r(34);var n=r(27),o=(r(43),r(24),r(20)),c=r(348);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={data:function(){return{phone:null,name:null,email:null}},methods:{login:function(){var e,t,r,n;return regeneratorRuntime.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,regeneratorRuntime.awrap(this.$refs.form.validate());case 3:if(c.sent){c.next=6;break}return c.abrupt("return");case 6:return e=this.name,t=this.phone,r=this.email,c.next=11,regeneratorRuntime.awrap(this.$axios.post(o.a.loginCustomer,{name:e,phone:t,email:r}));case 11:(n=c.sent).data&&n.data[this.$API.STATUS]===this.$API.OK&&(this.$store.commit("SET_LOGIN_CUSTOMER",d({},n.data,{name:e,phone:t})),this.$router.push("/user")),c.next=18;break;case 15:c.prev=15,c.t0=c.catch(0),console.log("TCL: login -> error",c.t0);case 18:case"end":return c.stop()}}),null,this,[[0,15]])},getCustomer:function(){var e,t,r=arguments;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:this.phone,n.prev=1,n.next=4,regeneratorRuntime.awrap(this.$axios.post(o.a.getCustomer,{phone:e}));case 4:(t=n.sent)&&t.data&&(this.name=t.data.name,this.email=t.data.email),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.log("TCL: getCustomer -> error",n.t0);case 11:case"end":return n.stop()}}),null,this,[[1,8]])},getCustomerDebounce:r.n(c)()((function(){this.getCustomer()}),1e3)}},m=(r(402),r(7)),component=Object(m.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[r("h2",{staticClass:"title"},[e._v(e._s(e.$t("welcome_to",{name:"XXX"})))]),e._v(" "),r("validation-observer",{ref:"form",attrs:{tag:"div"}},[r("div",{staticClass:"columns is-multiline"},[r("div",{staticClass:"column is-12"},[r("validation-provider",{attrs:{name:e.$t("phone"),rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors,o=t.failed;return[r("b-field",{attrs:{label:e.$t("phone"),"label-position":"on-border",type:o?"is-danger":"",message:n[0]}},[r("b-input",{attrs:{placeholder:e.$t("phone")},on:{input:function(t){return e.getCustomerDebounce(300)}},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1)]}}])})],1),e._v(" "),r("div",{staticClass:"column is-12"},[r("validation-provider",{attrs:{name:e.$t("name"),rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors,o=t.failed;return[r("b-field",{attrs:{label:e.$t("name"),"label-position":"on-border",type:o?"is-danger":"",message:n[0]}},[r("b-input",{attrs:{placeholder:e.$t("name")},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)]}}])})],1),e._v(" "),r("div",{staticClass:"column is-12"},[r("validation-provider",{attrs:{name:e.$t("email"),rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors,o=t.failed;return[r("b-field",{attrs:{label:e.$t("email"),"label-position":"on-border",type:o?"is-danger":"",message:n[0]}},[r("b-input",{attrs:{placeholder:e.$t("email")},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)]}}])})],1)]),e._v(" "),r("div",{staticClass:"form-footer"},[r("b-button",{attrs:{type:"is-primary"},on:{click:e.login}},[e._v(e._s(e.$t("login")))])],1)])],1)}),[],!1,null,"2ce3c1ea",null);t.default=component.exports}}]);